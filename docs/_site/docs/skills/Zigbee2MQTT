<!DOCTYPE html>
<html lang="de-DE">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/pp-voiceassistant/assets/css/main.css">
    <link rel="stylesheet" href="/pp-voiceassistant/assets/css/font-awesome.min.css">

    <link rel="shortcut icon" href="/pp-voiceassistant/favicon.ico?1">
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Zigbee2MQTT Skill | Praxisprojekt Sprachassistent</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Zigbee2MQTT Skill" />
<meta property="og:locale" content="de_DE" />
<meta name="description" content="Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte." />
<meta property="og:description" content="Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte." />
<link rel="canonical" href="http://localhost:4000/pp-voiceassistant/docs/skills/Zigbee2MQTT" />
<meta property="og:url" content="http://localhost:4000/pp-voiceassistant/docs/skills/Zigbee2MQTT" />
<meta property="og:site_name" content="Praxisprojekt Sprachassistent" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-01-23T21:21:27+01:00" />
<script type="application/ld+json">
{"description":"Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte.","url":"http://localhost:4000/pp-voiceassistant/docs/skills/Zigbee2MQTT","@type":"WebPage","headline":"Zigbee2MQTT Skill","dateModified":"2023-01-23T21:21:27+01:00","datePublished":"2023-01-23T21:21:27+01:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="alternate" type="application/rss+xml" title="Praxisprojekt Sprachassistent" href="http://localhost:4000/pp-voiceassistant/feed.xml" />
</head>


<body>

    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container navbar-container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
            <a class="navbar-brand" href="/pp-voiceassistant/">
                <span><img src="/pp-voiceassistant/assets/img/logonav.png" alt="Logo"></span> Praxisprojekt Sprachassistent
            </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li  class="active" ><a href="/pp-voiceassistant/docs/home/">Docs</a></li>
<!--                <li ><a href="">Blog</a></li>-->
            </ul>
            <div class="navbar-right">
<!--                <form class="navbar-form navbar-left">-->
<!--                    <div class="form-group has-feedback">-->
<!--                        <input id="search-box" type="search" class="form-control" placeholder="Search...">-->
<!--                        <i class="fa fa-search form-control-feedback"></i>-->
<!--                    </div>-->
<!--                </form>-->
                <ul class="nav navbar-nav">
                    <li><a href="https://github.com/sjohannsen1/pp-voiceassistant"><i class="fa fa-github" aria-hidden="true"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>


    <div class="page-content">
        <div class="wrapper">
            <div class="container">
    <div class="row">
        <div class="col-md-4">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-1" aria-expanded="false" aria-controls="collapse-1">
            Willkommen
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-1" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/pp-voiceassistant/docs/home/">Willkommen</a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
            Installation
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-2" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-3" aria-expanded="false" aria-controls="collapse-3">
            Skills
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-3" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-4" aria-expanded="false" aria-controls="collapse-4">
            Fazit
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-4" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/pp-voiceassistant/docs/conclusion/conclusion/">Fazit</a>
          
        </div>
      </div>
    </div>
  
</div>

        </div>

        <div class="col-md-8">
            <h1>Zigbee2MQTT Skill</h1>
            <div id="markdown-content-container">Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte. 

### Zusätzliche Hardware

Für diesen Skill wird zusätzliche Hardware benötigt. Um mit Zigbee kommunizieren zu können, muss ein Zigbee Stick verwendet werden. Für dieses Projekt wurde ein ConBee II Stick benutzt. Außerdem sind Smarthome-Geräte unabdingbar. 

### Installation

Für diesen Skill muss der [Service Zigbee2MQTT zusätzlich installiert und alle Geräte damit verbunden werden](../installation/Zigbee2MQTT).
Wenn das alles installiert und verbunden wurde, kann der Skill installiert und aktiviert werden. 

### Sprachbefehle 

... `start` [mein] Smarthome schalte [mein | meine | die | das | den] `zigbee_devices` `state` <br>
... `start` [mein] Smarthome um [mein | meine | die | das | den] `zigbee_devices` `state` zu schalten <br>
... `start` [mein] Smarthome Ist  [gerade] `zigbee_devices` `state` <br>
... `start` [mein] Smarthome Wie hell ist `zigbee_devices` [ gerade | aktuell ] <br>
... `start` [mein] Smarthome [ Um | Speichere ] die Einstellung von `zigbee_devices` [ zu speichern ]
... `start` [mein] Smarthome [ Um | stelle ] die Szene `zigbee_scenes` [ ein | einzustellen ]

### Sprachbefehle für Gruppen 

... `start` [mein] Smarthome [ Um | Füge ] `zigbee_devices` zu `zigbee_groups` [ hinzu | hinzuzufügen ] <br>
... `start` [mein] Smarthome [ Um | Lösche | Entferne ] `zigbee_devices` [ von | aus ] `zigbee_groups` [ zu löschen ] <br>
... `start` [mein] Smarthome  Welche Gruppen [ gibt es | sind gespeichert ] <br>
... `start` [mein] Smarthome [ Liste | Nenne mir | Gib mir ] alle Gruppen [ auf | aus ] <br>

### Sprachbefehle für Lampen

... `start` [mein] Smarthome [ schalte | um ] [ mein | meine | die | das | den ] `zigbee_devices` auf `0 bis 100` Prozent [ Helligkeit ] [ zu ] [machen | schalten] <br>
... `start` [mein] Smarthome [ schalte | um | Mache] [ das Licht von ] `zigbee_devices` `brightness_change` [ zu ] [ machen | schalten ] <br>
... `start` [mein] Smarthome [ schalte | um | Mache] [ das Licht von ] `zigbee_devices` `light_temp` [ zu ] [ machen | schalten ] <br>
... `start` [mein] Smarthome [ schalte | um | Mache ] [ das Licht von ] `zigbee_devices` `temp_change` [ zu ] [ machen | schalten ] <br>
... `start` [mein] Smarthome [ schalte | um | Mache ] [ das Licht von ] `zigbee_devices` `light_color` [ zu ] [machen | schalten] <br>


### Slots

Dieser Skill verwendet neben mehreren statischen Slots auch drei dynamische. Diese sind `zigbee_devices`, `zigbee_groups` und `zigbee_scenes`. Die Zigbee Geräte und Gruppen werden von Zigbee2MQTT über MQTT mitgeteilt und dann an Rhasspy gesendet. Dazu abonniert das Skillsystem das Topic "Zigbee2MQTT/Bridge". Hier werden bei Änderungen oder Starten von Zigbee2MQTT alle verbundenen Geräte und alle bekannten Gruppen veröffentlicht. Wenn eine Nachricht ankommt, werden die Namen der Geräte und Gruppen extrahiert und als Slots an Rhasspy gesendet. Auch das "Config" Objekt erhält eine Liste mit Gruppen und eine mit Geräten. <br>
Anders ist es bei `zigbee_scenes`. Szenen sind gespeicherte Konfigurationen von Geräten, welche mit einem Namen und einer Identifikationsnummer (ID) versehen werden und so wieder aufgerufen werden können. Zigbee2MQTT speichert dieses Szenen zwar, bietet aber keine Schnittstelle um die gespeicherten Szenen auszugeben. Deshalb muss der Skill gespeicherte Szenen eigens speichern und verwalten. Wird nun also eine Szene neu erstellt, werden Name und ID generiert und an Zigbee2MQTT gesendet. Der Skill speichert dieses Daten in einer Datei und sendet den Namen der Szene an Rhasspy, wo sie zu diesem Slot hinzugefügt wird. Wird eine Szene aufgerufen, erkennt Rhasspy den Namen und der Skill kann anhand der Datei die zugehörige ID ermitteln. Wenn diese nun an Zigbee2MQTT gesendet wird, kann die Szene aufgerufen werden. <br>

Die restlichen Slots nutzen Substitutionen um sprachabhängige Eingaben als sprachunabhängigen Parameter an den Skill weiter zu geben. Beispielsweise werden die Farbnamen in `light_color` mit der zugehörigen Hexadezimal Representation im RGB-Farbraum ersetzt. <br>

`zigbee_devices` kann die Namen aller Zigbee2MQTT bekannten Geräte annehmen. <br>
`zigbee_groups`  kann die Namen aller Zigbee2MQTT bekannten Gruppen annehmen. <br>
`zigbee_scenes`  kann die Namen aller Zigbee2MQTT bekannten Szenen annehmen. <br>
`state` kann "ein", "an", "aus" sein und beschreibt den Zustand des Geräts. <br>

`brightness` kann Werte von 0 nis 100 annehmen und beschreibt die Helligkeit einer Lampe in Prozent. <br>
`brightness_change` kann entweder "heller" oder "dunkler" sein und beschreibt die Änderung der Helligkeit einer Lampe. <br> 
`light_temp` kann entweder "kalt", "warm" oder "neutral" sein und beschreibt die Lichttemperatur einer Lampe. <br>
`temp_change` kann entweder "kälter", "wärmer", "röter" oder "blauer" sein und beschreibt die Änderung der Lichttemperatur einer Lampe. <br>
`light_color` kann den Namen einer Farbe annehmen und beschreibt die Farbe des Lichts einer Lampe. <br></div>
            <div style="clear:both;">
              <p class="text-center">
                <br />
                <a target="_blank" href="https://github.com/sjohannsen1/pp-voiceassistant/tree/main/docs/_docs/skills/Zigbee2MQTT" class="btn btn-default" role="button">
                  <i class="fa fa-pencil fa-lg"></i> Improve this page
                </a>
              </p>
            </div>
            <hr>
            





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  


        </div>

    </div>
</div>

        </div>
    </div>

    <footer class="footer">
    <div class="container">

        <p class="text-center">
            Praxisprojekt Sprachassistent 2023 |
            Powered by <a href="https://github.com/aksakalli/jekyll-doc-theme">Jekyll Doc Theme</a>
        </p>
        <!-- <p class="text-muted">Place sticky footer content here.</p> -->
    </div>
</footer>

    <script>
  var baseurl = '/pp-voiceassistant'
</script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="/pp-voiceassistant/assets/js/bootstrap.min.js "></script>
<script src="/pp-voiceassistant/assets/js/typeahead.bundle.min.js "></script>

<script src="/pp-voiceassistant/assets/js/main.js "></script>

</body>

</html>
