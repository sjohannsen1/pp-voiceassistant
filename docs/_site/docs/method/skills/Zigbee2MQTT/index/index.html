<!DOCTYPE html>
<html lang="de-DE">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/pp-voiceassistant/assets/css/main.css">
    <link rel="stylesheet" href="/pp-voiceassistant/assets/css/font-awesome.min.css">

    <link rel="shortcut icon" href="/pp-voiceassistant/favicon.ico?1">
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Zigbee2MQTT Skill | Praxisprojekt Sprachassistent</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Zigbee2MQTT Skill" />
<meta property="og:locale" content="de_DE" />
<meta name="description" content="Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte." />
<meta property="og:description" content="Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte." />
<link rel="canonical" href="http://localhost:4000/pp-voiceassistant/docs/method/skills/Zigbee2MQTT/index/" />
<meta property="og:url" content="http://localhost:4000/pp-voiceassistant/docs/method/skills/Zigbee2MQTT/index/" />
<meta property="og:site_name" content="Praxisprojekt Sprachassistent" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-02-02T18:00:49+01:00" />
<script type="application/ld+json">
{"description":"Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte.","url":"http://localhost:4000/pp-voiceassistant/docs/method/skills/Zigbee2MQTT/index/","@type":"WebPage","headline":"Zigbee2MQTT Skill","dateModified":"2023-02-02T18:00:49+01:00","datePublished":"2023-02-02T18:00:49+01:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="alternate" type="application/rss+xml" title="Praxisprojekt Sprachassistent" href="http://localhost:4000/pp-voiceassistant/feed.xml" />
</head>


<body>

    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container navbar-container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
            <a class="navbar-brand" href="/pp-voiceassistant/">
                <span><img src="/pp-voiceassistant/assets/img/logonav.png" alt="Logo"></span> Praxisprojekt Sprachassistent
            </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li  class="active" ><a href="/pp-voiceassistant/docs/home/">Docs</a></li>
<!--                <li ><a href="">Blog</a></li>-->
            </ul>
            <div class="navbar-right">
<!--                <form class="navbar-form navbar-left">-->
<!--                    <div class="form-group has-feedback">-->
<!--                        <input id="search-box" type="search" class="form-control" placeholder="Search...">-->
<!--                        <i class="fa fa-search form-control-feedback"></i>-->
<!--                    </div>-->
<!--                </form>-->
                <ul class="nav navbar-nav">
                    <li><a href="https://github.com/sjohannsen1/pp-voiceassistant"><i class="fa fa-github" aria-hidden="true"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>


    <div class="page-content">
        <div class="wrapper">
            <div class="container">
    <div class="row">
        <div class="col-md-4">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-1" aria-expanded="false" aria-controls="collapse-1">
            Willkommen
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-1" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/pp-voiceassistant/docs/home/">Willkommen</a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
            Installation
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-2" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href="/pp-voiceassistant/docs/installation/Zigbee2MQTT/">Installation Zigbee2MQTT</a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-3" aria-expanded="false" aria-controls="collapse-3">
            Skills
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-3" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
            
            
            <a class="list-group-item " href=""></a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-4" aria-expanded="false" aria-controls="collapse-4">
            Fazit
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-4" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/pp-voiceassistant/docs/conclusion/conclusion/">Fazit</a>
          
        </div>
      </div>
    </div>
  
</div>

        </div>

        <div class="col-md-8">
            <h1>Zigbee2MQTT Skill</h1>
            <div id="markdown-content-container"><p>Mit diesem Skill können Zigbee Geräte gesteuert werden. Dies sind Smarthome-Geräte, welche über das Protokoll ZigBee kommunizieren. Unter Verwendung des Services ZigBee2MQTT sind dieses auch über MQTT ansteuerbar. Dabei verwaltet ZigBee2MQTT die Geräte.</p>

<h3 id="zusätzliche-hardware">Zusätzliche Hardware</h3>

<p>Für diesen Skill wird zusätzliche Hardware benötigt. Um mit Zigbee kommunizieren zu können, muss ein Zigbee Stick verwendet werden. Für dieses Projekt wurde ein ConBee II Stick benutzt. Außerdem sind Smarthome-Geräte unabdingbar.</p>

<h3 id="installation">Installation</h3>

<p>Für diesen Skill muss der <a href="../installation/Zigbee2MQTT">Service Zigbee2MQTT zusätzlich installiert und alle Geräte damit verbunden werden</a>.
Wenn das alles installiert und verbunden wurde, kann der Skill installiert und aktiviert werden.</p>

<h3 id="sprachbefehle">Sprachbefehle</h3>

<p>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome schalte [mein | meine | die | das | den] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">state</code> <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome um [mein | meine | die | das | den] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">state</code> zu schalten <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome Ist  [gerade] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">state</code> <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ Um | Speichere ] die Einstellung von <code class="language-plaintext highlighter-rouge">zigbee_devices</code> [ zu speichern ]
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ Um | stelle ] die Szene <code class="language-plaintext highlighter-rouge">zigbee_scenes</code> [ ein | einzustellen ]</p>

<h3 id="sprachbefehle-für-gruppen">Sprachbefehle für Gruppen</h3>

<p>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ Um | Füge ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> zu <code class="language-plaintext highlighter-rouge">zigbee_groups</code> [ hinzu | hinzuzufügen ] <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ Um | Lösche | Entferne ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> [ von | aus ] <code class="language-plaintext highlighter-rouge">zigbee_groups</code> [ zu löschen ] <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome  Welche Gruppen [ gibt es | sind gespeichert ] <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ Liste | Nenne mir | Gib mir ] alle Gruppen [ auf | aus ] <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome schalte [mein | meine | die | das | den] <code class="language-plaintext highlighter-rouge">zigbee_groups</code> <code class="language-plaintext highlighter-rouge">state</code> <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome um [mein | meine | die | das | den] <code class="language-plaintext highlighter-rouge">zigbee_groups</code> <code class="language-plaintext highlighter-rouge">state</code> zu schalten <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome Ist  [gerade] <code class="language-plaintext highlighter-rouge">zigbee_groups</code> <code class="language-plaintext highlighter-rouge">state</code> <br />
… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ Um | Speichere ] die Einstellung von <code class="language-plaintext highlighter-rouge">zigbee_groups</code> [ zu speichern ] <br /></p>

<h3 id="sprachbefehle-für-lampen">Sprachbefehle für Lampen</h3>

<table>
  <tbody>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um ] [ mein</td>
      <td>meine</td>
      <td>die</td>
      <td>das</td>
      <td>den ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> auf <code class="language-plaintext highlighter-rouge">0 bis 100</code> Prozent [ Helligkeit ] [ zu ] [machen</td>
      <td>schalten] <br /></td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">brightness_change</code> [ zu ] [ machen</td>
      <td>schalten ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">light_temp</code> [ zu ] [ machen</td>
      <td>schalten ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache ] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">temp_change</code> [ zu ] [ machen</td>
      <td>schalten ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache ] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_devices</code> <code class="language-plaintext highlighter-rouge">light_color</code> [ zu ] [machen</td>
      <td>schalten] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome Wie hell ist <code class="language-plaintext highlighter-rouge">zigbee_devices</code> [ gerade</td>
      <td>aktuell ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="sprachbefehle-für-gruppen-von-lampen">Sprachbefehle für Gruppen von Lampen</h3>

<table>
  <tbody>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um ] [ mein</td>
      <td>meine</td>
      <td>die</td>
      <td>das</td>
      <td>den ] <code class="language-plaintext highlighter-rouge">zigbee_groups</code> auf <code class="language-plaintext highlighter-rouge">0 bis 100</code> Prozent [ Helligkeit ] [ zu ] [machen</td>
      <td>schalten] <br /></td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_groups</code>  <code class="language-plaintext highlighter-rouge">brightness_change</code> [ zu ] [ machen</td>
      <td>schalten ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_groups</code> <code class="language-plaintext highlighter-rouge">light_temp</code> [ zu ] [ machen</td>
      <td>schalten ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache ] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_groups</code>  <code class="language-plaintext highlighter-rouge">temp_change</code> [ zu ] [ machen</td>
      <td>schalten ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome [ schalte</td>
      <td>um</td>
      <td>Mache ] [ das Licht von ] <code class="language-plaintext highlighter-rouge">zigbee_groups</code>  <code class="language-plaintext highlighter-rouge">light_color</code> [ zu ] [machen</td>
      <td>schalten] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>… <code class="language-plaintext highlighter-rouge">start</code> [mein] Smarthome Wie hell ist <code class="language-plaintext highlighter-rouge">zigbee_groups</code> [ gerade</td>
      <td>aktuell ] <br /></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="slots">Slots</h3>

<p>Dieser Skill verwendet neben mehreren statischen Slots auch drei dynamische. Diese sind <code class="language-plaintext highlighter-rouge">zigbee_devices</code>, <code class="language-plaintext highlighter-rouge">zigbee_groups</code> und <code class="language-plaintext highlighter-rouge">zigbee_scenes</code>. Die Zigbee Geräte und Gruppen werden von Zigbee2MQTT über MQTT mitgeteilt und dann an Rhasspy gesendet. Dazu abonniert das Skillsystem das Topic “Zigbee2MQTT/Bridge”. Hier werden bei Änderungen oder Starten von Zigbee2MQTT alle verbundenen Geräte und alle bekannten Gruppen veröffentlicht. Wenn eine Nachricht ankommt, werden die Namen der Geräte und Gruppen extrahiert und als Slots an Rhasspy gesendet. Auch das “Config” Objekt erhält eine Liste mit Gruppen und eine mit Geräten. <br />
Anders ist es bei <code class="language-plaintext highlighter-rouge">zigbee_scenes</code>. Szenen sind gespeicherte Konfigurationen von Geräten, welche mit einem Namen und einer Identifikationsnummer (ID) versehen werden und so wieder aufgerufen werden können. Zigbee2MQTT speichert dieses Szenen zwar, bietet aber keine Schnittstelle um die gespeicherten Szenen auszugeben. Deshalb muss der Skill gespeicherte Szenen eigens speichern und verwalten. Wird nun also eine Szene neu erstellt, werden Name und ID generiert und an Zigbee2MQTT gesendet. Der Skill speichert dieses Daten in einer Datei und sendet den Namen der Szene an Rhasspy, wo sie zu diesem Slot hinzugefügt wird. Wird eine Szene aufgerufen, erkennt Rhasspy den Namen und der Skill kann anhand der Datei die zugehörige ID ermitteln. Wenn diese nun an Zigbee2MQTT gesendet wird, kann die Szene aufgerufen werden. <br /></p>

<p>Die restlichen Slots nutzen Substitutionen um sprachabhängige Eingaben als sprachunabhängigen Parameter an den Skill weiter zu geben. Beispielsweise werden die Farbnamen in <code class="language-plaintext highlighter-rouge">light_color</code> mit der zugehörigen Hexadezimal Representation im RGB-Farbraum ersetzt. <br /></p>

<p><code class="language-plaintext highlighter-rouge">zigbee_devices</code> kann die Namen aller Zigbee2MQTT bekannten Geräte annehmen. <br />
<code class="language-plaintext highlighter-rouge">zigbee_groups</code>  kann die Namen aller Zigbee2MQTT bekannten Gruppen annehmen. <br />
<code class="language-plaintext highlighter-rouge">zigbee_scenes</code>  kann die Namen aller Zigbee2MQTT bekannten Szenen annehmen. <br />
<code class="language-plaintext highlighter-rouge">state</code> kann “ein”, “an”, “aus” sein und beschreibt den Zustand des Geräts. <br /></p>

<p><code class="language-plaintext highlighter-rouge">brightness</code> kann Werte von 0 nis 100 annehmen und beschreibt die Helligkeit einer Lampe in Prozent. <br />
<code class="language-plaintext highlighter-rouge">brightness_change</code> kann entweder “heller” oder “dunkler” sein und beschreibt die Änderung der Helligkeit einer Lampe. <br /> 
<code class="language-plaintext highlighter-rouge">light_temp</code> kann entweder “kalt”, “warm” oder “neutral” sein und beschreibt die Lichttemperatur einer Lampe. <br />
<code class="language-plaintext highlighter-rouge">temp_change</code> kann entweder “kälter”, “wärmer”, “röter” oder “blauer” sein und beschreibt die Änderung der Lichttemperatur einer Lampe. <br />
<code class="language-plaintext highlighter-rouge">light_color</code> kann den Namen einer Farbe annehmen und beschreibt die Farbe des Lichts einer Lampe. <br /></p>
</div>
            <div style="clear:both;">
              <p class="text-center">
                <br />
                <a target="_blank" href="https://github.com/sjohannsen1/pp-voiceassistant/tree/main/docs/_docs/method/skills/Zigbee2MQTT/index.md" class="btn btn-default" role="button">
                  <i class="fa fa-pencil fa-lg"></i> Improve this page
                </a>
              </p>
            </div>
            <hr>
            





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  


        </div>

    </div>
</div>

        </div>
    </div>

    <footer class="footer">
    <div class="container">

        <p class="text-center">
            Praxisprojekt Sprachassistent 2023 |
            Powered by <a href="https://github.com/aksakalli/jekyll-doc-theme">Jekyll Doc Theme</a>
        </p>
        <!-- <p class="text-muted">Place sticky footer content here.</p> -->
    </div>
</footer>

    <script>
  var baseurl = '/pp-voiceassistant'
</script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="/pp-voiceassistant/assets/js/bootstrap.min.js "></script>
<script src="/pp-voiceassistant/assets/js/typeahead.bundle.min.js "></script>

<script src="/pp-voiceassistant/assets/js/main.js "></script>

</body>

</html>
